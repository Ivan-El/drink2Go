const menuButton=document.querySelector(".main-header__navigation-toggle");document.body.classList.remove("no-js"),menuButton&&menuButton.addEventListener("click",(()=>{document.body.classList.toggle("menu-open-js"),menuButton.classList.toggle("main-header__navigation-toggle--opened")}));const navList=document.querySelector(".site-navigation");navList&&navList.addEventListener("click",(t=>{const n=t.currentTarget,{target:e}=t;e.classList.contains("site-navigation__link")&&(n.querySelector(".site-navigation__link--current").classList.remove("site-navigation__link--current"),e.classList.add("site-navigation__link--current"))}));const swiper=new Swiper(".swiper",{loop:!0,navigation:{nextEl:".promo-slider__button--next",prevEl:".promo-slider__button--prev"},pagination:{el:".promo-slider__pagination",type:"bullets",bulletcustomSelectent:"span",bulletClass:"promo-slider__pagination-bullet",bulletActiveClass:"promo-slider__pagination-bullet--current",clickable:!0}}),rangeSlider=document.querySelector(".range-slider__js"),inputMin=document.querySelector("#input-min"),inputMax=document.querySelector("#input-max"),inputs=[inputMin,inputMax],formatNumber={from:function(t){return Number(t)},to:function(t){return Math.round(t)}};noUiSlider.cssClasses.connect+=" range-slider__js-body",noUiSlider.cssClasses.handle+=" range-slider__js-toggle",noUiSlider.create(rangeSlider,{start:["0","900"],connect:!0,format:formatNumber,range:{min:0,max:1e3}}),rangeSlider.noUiSlider.set(["0","900"]),inputMin.addEventListener("change",(function(){rangeSlider.noUiSlider.set([this.value,null])})),inputMax.addEventListener("change",(function(){rangeSlider.noUiSlider.set([null,this.value])})),rangeSlider.noUiSlider.on("update",(function(t,n){inputs[n].value=t[n]}));const form=document.querySelector(".filter-form"),resetAll=form.querySelector(".filter-form__reset-button"),checkBoxes=form.querySelectorAll("input[type=checkbox]"),radioButtons=form.querySelectorAll("input[type=radio]");resetAll.addEventListener("click",(()=>{checkBoxes.forEach((t=>{t.hasAttribute("checked")&&t.removeAttribute("checked")})),radioButtons.forEach((t=>{t.checked=!1})),rangeSlider.noUiSlider.set(["0","900"])}));const customSelect=document.querySelector(".sort-select"),customSelectButton=document.querySelector(".sort-select__toggle"),selectOptions=document.querySelectorAll(".sort-select__option");customSelectButton.innerHTML=selectOptions[0].innerHTML;let isOpen=!1;function setValue(t){customSelectButton.innerHTML=t}function toggle(){isOpen?close():open()}function open(){customSelect.classList.add("select-open-js"),document.addEventListener("click",onDocumentClick),isOpen=!0}function close(){customSelect.classList.remove("select-open-js"),document.removeEventListener("click",onDocumentClick),isOpen=!1}function onDocumentClick(t){!customSelect.contains(t.target)&&close()}customSelect.addEventListener("click",(function(t){const n=t.currentTarget,{target:e}=t;e.classList.contains("sort-select__toggle")?toggle():"LI"===e.tagName&&(setValue(e.innerHTML),close(),n.querySelector(".sort-select__option--current").classList.remove("sort-select__option--current"),e.classList.add("sort-select__option--current"))}));const catalogPagination=document.querySelector(".pagination"),catalogPaginationPrevButton=catalogPagination.querySelector(".pagination__link-prev"),catalogPaginationNextButton=catalogPagination.querySelector(".pagination__link-next");catalogPagination&&catalogPagination.addEventListener("click",(t=>{t.preventDefault();const n=t.currentTarget,{target:e}=t;e.classList.contains("pagination__link")&&(n.querySelector(".pagination__link--current").classList.remove("pagination__link--current"),e.classList.add("pagination__link--current")),e.classList.contains("pagination__link--first")&&(catalogPaginationPrevButton.classList.add("pagination__link-hidden-js"),catalogPaginationNextButton.classList.contains("pagination__link-hidden-js")&&catalogPaginationNextButton.classList.remove("pagination__link-hidden-js")),e.classList.contains("pagination__link--last")&&(catalogPaginationNextButton.classList.add("pagination__link-hidden-js"),catalogPaginationPrevButton.classList.contains("pagination__link-hidden-js")&&catalogPaginationPrevButton.classList.remove("pagination__link-hidden-js")),e.classList.contains("pagination__link--first")||e.classList.contains("pagination__link--last")||(catalogPaginationNextButton.classList.contains("pagination__link-hidden-js")&&catalogPaginationNextButton.classList.remove("pagination__link-hidden-js"),catalogPaginationPrevButton.classList.contains("pagination__link-hidden-js")&&catalogPaginationPrevButton.classList.remove("pagination__link-hidden-js"))}));const map=L.map("leaflet-map-js").setView({lat:59.968288,lng:30.317421},17),mapMainPin=L.icon({iconUrl:"./img/map_pin.svg",iconSize:[38,50],iconAnchor:[25,50]});L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(map);const mainMarker=L.marker({lat:59.968288,lng:30.317421},{draggable:!1,icon:mapMainPin});mainMarker.addTo(map);